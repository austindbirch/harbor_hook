# Postgres
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=harborhook

# Service env
DB_USER=postgres
DB_PASS=postgres
DB_HOST=postgres
DB_PORT=5432
DB_NAME=harborhook

# Ports
INGEST_HTTP_PORT=8080
INGEST_GRPC_PORT=50051
WORKER_HTTP_PORT=8083

# NSQ
NSQD_TCP_ADDR=nsqd:4150
NSQLOOKUPD_HTTP_ADDR=nsqlookupd:4161
NSQ_LOOKUP_HTTP_ADDR=http://nsqlookupd:4161
NSQ_DELIVERIES_TOPIC=deliveries
NSQ_DLQ_TOPIC=deliveries_dlq
NSQ_WORKER_CHANNEL=workers
WEBHOOK_SIGNATURE_HEADER=X-HarborHook-Signature
WEBHOOK_TIMESTAMP_HEADER=X-HarborHook-Timestamp

# Grafana
GF_ADMIN_USER=admin
GF_ADMIN_PASSWORD=admin

# Worker retry policy (eventually, these will be tenant-tunable)
MAX_ATTEMPTS=3
BACKOFF_SCHEDULE=1s,2s,5s
BACKOFF_JITTER_PCT=0.10 # Reduced jitter for faster processing
PUBLISH_DLQ_TOPIC=true # Enable DLQ topic publishing for demo

# Signing
SIGNING_LEEWAY_SECONDS=300 # Receiver may reject timestamps older than 5 minutes

# Fake receiver policy
FAIL_FIRST_N=0 # Always return 200 (no failures)
FAIL_FIRST=0 # Docker-compose compatibility (same as FAIL_FIRST_N)
ENDPOINT_SECRET="demo_secret"
RESPONSE_DELAY_MS=10 # Reduced delay for burst traffic testing (was 100ms)
FAKE_RECEIVER_PORT=:8081

# Security defaults
JWT_TOKEN_EXPIRY=1h
MAX_REQUEST_SIZE=2097152 # 2MB max request size