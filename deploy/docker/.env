# Postgres
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=harborhook

# Service env
DB_USER=postgres
DB_PASS=postgres
DB_HOST=postgres
DB_PORT=5432
DB_NAME=harborhook

# Ports
INGEST_HTTP_PORT=8080
INGEST_GRPC_PORT=50051
WORKER_HTTP_PORT=8083

# NSQ
NSQD_TCP_ADDR=nsqd:4150
NSQLOOKUPD_HTTP_ADDR=nsqlookupd:4161

# Grafana
GF_ADMIN_USER=admin
GF_ADMIN_PASSWORD=admin

# Worker retry policy (eventually, these will be tenant-tunable)
MAX_ATTEMPTS=5
BACKOFF_SCHEDULE=1s,3s,10s,30s,60s
BACKOFF_JITTER_PCT=0.25 # 25% jitter for more predictable timing
PUBLISH_DLQ_TOPIC=true # true to emit to NSQ 'deliveries_dlq'

# Signing
SIGNING_LEEWAY_SECONDS=300 # Receiver may reject timestamps older than 5 minutes

# Fake receiver policy
FAIL_FIRST=0 # Always return 200 (no failures)
ENDPOINT_SECRET="demo_secret"
RESPONSE_DELAY_MS=100 # Simulate realistic webhook processing time

# Security defaults
JWT_TOKEN_EXPIRY=1h
MAX_REQUEST_SIZE=2097152 # 2MB max request size